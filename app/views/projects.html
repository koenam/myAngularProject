<div ng-controller="ProjectsController" data-ng-init="init()">
    <div class="container">
        <div class="row row-centered">
            <h4 class="col-xs-12">Select project to change</h4>
            <div class="col-xs-12">
                <form role="form">
                    <div class="form-group">
                        <div>
                        <div>
                            <table id="ProjectsTable" class="table table-bordered">
                                <thead>
                                <tr class="bg-info">
                                    <th>Title</th>
                                    <th>Description</th>
                                    <th>Start Date</th>
                                    <th>End Date</th>
                                    <th>Is Billable</th>
                                    <th>Is Active</th>
                                    <th>Created</th>
                                    <th>Delete</th>
                                    <th>Edit</th>
                                </tr>
                                </thead>
                                <tbody ng-repeat="project in projects">
                                <tr>
                                    <td>{{project.title}}</td>
                                    <td>{{project.description}}</td>
                                    <td>{{project.start_date | date:'medium'}}</td>
                                    <td>{{project.end_date | date:'medium'}}</td>
                                    <td><input type="checkbox" ng-model="project.is_billable"></td>
                                    <td><input type="checkbox" ng-model="project.is_active"></td>
                                    <td>{{project.created | date:'medium'}}</td>
                                    <td ng-click="deleteProject(project)"><a><i class="glyphicon glyphicon-trash"></i>delete</a></td>
                                    <td ng-click="editProject(project)"><a><i class="glyphicon glyphicon-pencil"></i>edit</a></td>
                                    <tr id="edit" ng-show="editing && project.pk === selected.pk">
                                     <td><input type="text" ng-model=project.title></td>
                                     <td><input type="text" ng-model=project.description></td>
                                     <td><input type="text" ng-model=project.start_date></td>
                                    <td><input type="text" ng-model=project.end_date></td>
                                    <td><input type="checkbox" ng-model="project.is_billable"></td>
                                    <td><input type="checkbox" ng-model="project.is_active"></td>
                                    <td><input type="text" ng-model=project.created></td>
                                    <td><button type="button" class="btn btn-primary" ng-click="updateProject(project)">Save</button></td>
                                    <td><button type="button" class="btn btn-danger" ng-click="reset()">Cancel</button></td>
                                   </tr>
                                </tr>
                                </tbody>
                                <tr id="add" ng-show="adding">
                                  <td><input type="text" ng-model=project.title></td>
                                  <td><input type="text" ng-model=project.description></td>
                                  <td><input type="text" ng-model=project.start_date></td>
                                 <td><input type="text" ng-model=project.end_date></td>
                                 <td><input type="checkbox" ng-model="project.is_billable"></td>
                                 <td><input type="checkbox" ng-model="project.is_active"></td>
                                 <td><input type="text" ng-model=project.created></td>
                                 <td><button type="button" class="btn btn-primary" ng-click="addProject(project)">Save</button></td>
                                 <td><button type="button" class="btn btn-danger" ng-click="cancel()">Cancel</button></td>
                                </tr>
                            </table>
                            <div>{{projectsTotal}} projects</div>
                            <div>
                                <button id="add" ng-show="!adding" class="btn btn-primary" ng-click="createProject()">
                                    Add
                                </button>
                                <div>
                        </div>
                    </div>
                </form>
            </div>
        </div>
    </div>
</div>
